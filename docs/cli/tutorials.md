# Учебники

Эта страница содержит учебники по взаимодействию с Gemini CLI.

## Настройка сервера Model Context Protocol (MCP)

> [!CAUTION]
> Перед использованием стороннего MCP-сервера убедитесь, что вы доверяете его источнику и понимаете предоставляемые им инструменты. Вы используете сторонние серверы на свой страх и риск.

Этот учебник демонстрирует, как настроить MCP-сервер, используя в качестве примера [GitHub MCP-сервер](https://github.com/github/github-mcp-server). GitHub MCP-сервер предоставляет инструменты для взаимодействия с репозиториями GitHub, такие как создание задач и комментирование запросов на вытягивание.

### Предварительные требования

Прежде чем начать, убедитесь, что у вас установлено и настроено следующее:

- **Docker:** Установите и запустите [Docker].
- **Персональный токен доступа GitHub (PAT):** Создайте новый [классический] или [детальный] PAT с необходимыми областями.

[Docker]: https://www.docker.com/
[classic]: https://github.com/settings/tokens/new
[fine-grained]: https://github.com/settings/personal-access-tokens/new

### Руководство

#### Настройка MCP-сервера в `settings.json`

В корневом каталоге вашего проекта создайте или откройте файл [`.gemini/settings.json`](./configuration.md). Внутри файла добавьте блок конфигурации `mcpServers`, который содержит инструкции по запуску GitHub MCP-сервера.

```json
{
  "mcpServers": {
    "github": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-e",
        "GITHUB_PERSONAL_ACCESS_TOKEN",
        "ghcr.io/github/github-mcp-server"
      ],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${GITHUB_PERSONAL_ACCESS_TOKEN}"
      }
    }
  }
}
```

#### Установите свой токен GitHub

> [!CAUTION]
> Использование широкомасштабного персонального токена доступа, который имеет доступ к личным и частным репозиториям, может привести к утечке информации из частного репозитория в публичный. Мы рекомендуем использовать детальный токен доступа, который не предоставляет общий доступ как к публичным, так и к частным репозиториям.

Используйте переменную среды для хранения вашего GitHub PAT:

```bash
GITHUB_PERSONAL_ACCESS_TOKEN="pat_ВашНастоящийТокенGitHubЗдесь"
```

Gemini CLI использует это значение в конфигурации `mcpServers`, которую вы определили в файле `settings.json`.

#### Запустите Gemini CLI и проверьте соединение

При запуске Gemini CLI он автоматически считывает вашу конфигурацию и запускает GitHub MCP-сервер в фоновом режиме. Затем вы можете использовать запросы на естественном языке, чтобы попросить Gemini CLI выполнить действия GitHub. Например:

```bash
"получить все открытые задачи, назначенные мне в репозитории 'foo/bar', и расставить их по приоритетам"
```
