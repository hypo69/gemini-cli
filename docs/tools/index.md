# Инструменты Gemini CLI

Gemini CLI включает встроенные инструменты, которые модель Gemini использует для взаимодействия с вашей локальной средой, доступа к информации и выполнения действий. Эти инструменты расширяют возможности CLI, позволяя ему выходить за рамки генерации текста и помогать в широком спектре задач.

## Обзор инструментов Gemini CLI

В контексте Gemini CLI инструменты — это специфические функции или модули, которые модель Gemini может запросить для выполнения. Например, если вы попросите Gemini "Обобщить содержимое `my_document.txt`", модель, вероятно, определит необходимость прочитать этот файл и запросит выполнение инструмента `read_file`.

Основной компонент (`packages/core`) управляет этими инструментами, представляет их определения (схемы) модели Gemini, выполняет их по запросу и возвращает результаты модели для дальнейшей обработки в ответ, ориентированный на пользователя.

Эти инструменты предоставляют следующие возможности:

- **Доступ к локальной информации:** Инструменты позволяют Gemini получать доступ к вашей локальной файловой системе, читать содержимое файлов, перечислять каталоги и т. д.
- **Выполнение команд:** С помощью таких инструментов, как `run_shell_command`, Gemini может выполнять команды оболочки (с соответствующими мерами безопасности и подтверждением пользователя).
- **Взаимодействие с Интернетом:** Инструменты могут получать содержимое из URL-адресов.
- **Выполнение действий:** Инструменты могут изменять файлы, записывать новые файлы или выполнять другие действия в вашей системе (опять же, обычно с мерами безопасности).
- **Обоснование ответов:** Используя инструменты для получения данных в реальном времени или конкретных локальных данных, ответы Gemini могут быть более точными, релевантными и обоснованными в вашем фактическом контексте.

## Как использовать инструменты Gemini CLI

Чтобы использовать инструменты Gemini CLI, предоставьте запрос Gemini CLI. Процесс работает следующим образом:

1.  Вы предоставляете запрос Gemini CLI.
2.  CLI отправляет запрос ядру.
3.  Ядро, вместе с вашим запросом и историей разговоров, отправляет список доступных инструментов и их описаний/схем в Gemini API.
4.  Модель Gemini анализирует ваш запрос. Если она определяет, что инструмент необходим, ее ответ будет включать запрос на выполнение определенного инструмента с определенными параметрами.
5.  Ядро получает этот запрос инструмента, проверяет его и (часто после подтверждения пользователя для конфиденциальных операций) выполняет инструмент.
6.  Вывод из инструмента отправляется обратно в модель Gemini.
7.  Модель Gemini использует вывод инструмента для формирования окончательного ответа, который затем отправляется обратно через ядро в CLI и отображается вам.

Вы обычно будете видеть сообщения в CLI, указывающие, когда инструмент вызывается и успешно ли он выполнен или завершился сбоем.

## Безопасность и подтверждение

Многие инструменты, особенно те, которые могут изменять вашу файловую систему или выполнять команды (`write_file`, `edit`, `run_shell_command`), разработаны с учетом безопасности. Gemini CLI обычно будет:

- **Требовать подтверждения:** Запрашивать у вас подтверждение перед выполнением потенциально конфиденциальных операций, показывая вам, какое действие будет предпринято.
- **Использовать песочницу:** Все инструменты подлежат ограничениям, налагаемым песочницей (см. [Песочница в Gemini CLI](../sandbox.md)). Это означает, что при работе в песочнице любые инструменты (включая MCP-серверы), которые вы хотите использовать, должны быть доступны _внутри_ среды песочницы. Например, для запуска MCP-сервера через `npx` исполняемый файл `npx` должен быть установлен внутри образа Docker песочницы или быть доступным в среде `sandbox-exec`.

Важно всегда внимательно просматривать запросы на подтверждение, прежде чем разрешить инструменту продолжить.

## Узнайте больше об инструментах Gemini CLI

Встроенные инструменты Gemini CLI можно условно разделить на следующие категории:

- **[Инструменты файловой системы](./file-system.md):** Для взаимодействия с файлами и каталогами (чтение, запись, перечисление, поиск и т. д.).
- **[Инструмент оболочки](./shell.md) (`run_shell_command`):** Для выполнения команд оболочки.
- **[Инструмент веб-запросов](./web-fetch.md) (`web_fetch`):** Для получения содержимого из URL-адресов.
- **[Инструмент веб-поиска](./web-search.md) (`web_search`):** Для поиска в Интернете.
- **[Инструмент чтения нескольких файлов](./multi-file.md) (`read_many_files`):** Специализированный инструмент для чтения содержимого из нескольких файлов или каталогов, часто используемый командой `@`.
- **[Инструмент памяти](./memory.md) (`save_memory`):** Для сохранения и вызова информации между сеансами.

Кроме того, эти инструменты включают:

- **[MCP-серверы](./mcp-server.md)**: MCP-серверы действуют как мост между моделью Gemini и вашей локальной средой или другими службами, такими как API.
- **[Песочница](../sandbox.md)**: Песочница изолирует модель и ее изменения от вашей среды, чтобы снизить потенциальный риск.
